<idea-plugin>
  <id>ice.explosive.gdscript</id>
  <name>GdScript</name>
  <version>0.2.0</version>
  <vendor email="h.raven@centrum.cz" url="https://gitlab.com/IceExplosive/gdscript">IceExplosive</vendor>

  <description>GdScript2 language plugin for GodotEngine 4.0+</description>
  <change-notes>
  </change-notes>
  <incompatible-with>gdscript</incompatible-with>

  <depends>com.intellij.modules.platform</depends>

  <extensions defaultExtensionNs="com.intellij">
    <fileType name="GdScript File" implementationClass="gdscript.GdFileType" fieldName="INSTANCE" language="GdScript" extensions="gd"/>
    <lang.parserDefinition language="GdScript" implementationClass="gdscript.GdParserDefinition"/>
    <lang.syntaxHighlighterFactory language="GdScript" implementationClass="gdscript.highlighter.GdSyntaxHighlighterFactory"/>
    <colorSettingsPage implementation="gdscript.highlighter.GdColorSettingsPage"/>
    <additionalTextAttributes scheme="Darcula" file="colorSchemes/GdDarculaColorScheme.xml"/>
    <lang.commenter language="GdScript" implementationClass="gdscript.formatter.GdCommenter"/>
    <sdkType implementation="gdscript.GdSdk" />
    <lang.findUsagesProvider language="GdScript" implementationClass="gdscript.codeInsight.GdUsageProvider" />
    <configurationType implementation="gdscript.run.GdRunConfigurationType" />
    <runConfigurationProducer implementation="gdscript.run.GdRunConfigurationProducer" />
    <defaultLiveTemplates file="/templates/GdScript.xml" />
    <liveTemplateContext implementation="gdscript.GdTemplateContextType" />
    <codeInsight.parameterInfo language="GdScript" id="GdParameterInfoHandler" implementationClass="gdscript.codeInsight.GdParameterInfoHandler" />
    <lang.documentationProvider language="GdScript" implementationClass="gdscript.codeInsight.GdDocumentationProvider" />
    <codeInsight.parameterNameHints language="GdScript" implementationClass="gdscript.codeInsight.GdInlayParameterHintProvider" />
    <runLineMarkerContributor language="GdScript" implementationClass="gdscript.lineMarker.GdRunLineMarkerProvider" />

    <!-- Tscn -->
    <fileType name="Tscn file" implementationClass="tscn.TscnFileType" fieldName="INSTANCE" language="Tscn" extensions="tscn"/>
    <lang.parserDefinition language="Tscn" implementationClass="tscn.TscnParserDefinition"/>

    <!-- Completions -->
    <completion.contributor   language="GdScript" implementationClass="gdscript.completion.GdRootContributor"/>
    <completion.contributor   language="GdScript" implementationClass="gdscript.completion.GdClassNameCompletionContributor"/>
    <completion.contributor   language="GdScript" implementationClass="gdscript.completion.GdTypeHintCompletionContributor"/>
    <completion.contributor   language="GdScript" implementationClass="gdscript.completion.GdClassVarCompletionContributor"/>
    <completion.contributor   language="GdScript" implementationClass="gdscript.completion.GdMethodDeclCompletionContributor"/>
    <completion.contributor   language="GdScript" implementationClass="gdscript.completion.GdResourceCompletionContributor"/>
    <psi.referenceContributor language="GdScript" implementation="gdscript.completion.GdInheritanceReferenceContributor" />
    <psi.referenceContributor language="GdScript" implementation="gdscript.completion.GdTypeHintReferenceContributor" />
    <psi.referenceContributor language="GdScript" implementation="gdscript.completion.GdSetGetMethodIdReferenceContributor" />
    <psi.referenceContributor language="GdScript" implementation="gdscript.completion.GdClassMemberReferenceContributor" />

    <!-- Annotators -->
    <annotator language="GdScript" implementationClass="gdscript.annotator.GdClassNameAnnotator" />
    <annotator language="GdScript" implementationClass="gdscript.annotator.GdTypeHintAnnotator" />
    <annotator language="GdScript" implementationClass="gdscript.annotator.GdConstVarIdAnnotator" />
    <annotator language="GdScript" implementationClass="gdscript.annotator.GdAnnotationAnnotator" />
    <annotator language="GdScript" implementationClass="gdscript.annotator.GdSetGetAnnotator" />
    <annotator language="GdScript" implementationClass="gdscript.annotator.GdConstructorAnnotator" />
    <annotator language="GdScript" implementationClass="gdscript.annotator.GdReturnTypeAnnotator" />
    <annotator language="GdScript" implementationClass="gdscript.annotator.GdMethodNameAnnotator" />
    <annotator language="GdScript" implementationClass="gdscript.annotator.GdLambdaAnnotator" />
    <annotator language="GdScript" implementationClass="gdscript.annotator.GdResourceTypeAnnotator" />
    <annotator language="GdScript" implementationClass="gdscript.annotator.GdRefIdAnnotator" />

    <!-- Indices -->
    <stubElementTypeHolder class="gdscript.psi.GdTypes" />
    <stubIndex implementation="gdscript.index.impl.GdClassIdIndex" />
    <stubIndex implementation="gdscript.index.impl.GdClassNamingIndex" />
    <stubIndex implementation="gdscript.index.impl.GdClassDeclIndex" />
    <stubIndex implementation="gdscript.index.impl.GdInheritanceIndex" />
    <stubIndex implementation="gdscript.index.impl.GdConstDeclIndex" />
    <stubIndex implementation="gdscript.index.impl.GdClassVarDeclIndex" />
    <stubIndex implementation="gdscript.index.impl.GdMethodDeclIndex" />
    <stubIndex implementation="gdscript.index.impl.GdSignalDeclIndex" />
    <stubIndex implementation="gdscript.index.impl.GdEnumDeclIndex" />
    <fileBasedIndex implementation="gdscript.index.impl.GdFileResIndex" />
    <!-- Tscn -->
    <stubIndex implementation="tscn.index.impl.TscnScriptIndex" />
    <stubIndex implementation="tscn.index.impl.TscnNodeIndex" />

    <!-- Actions -->
    <intentionAction>
      <className>gdscript.action.quickFix.GdRemoveSetGetAction</className>
      <bundleName>messages.gdscript</bundleName>
      <categoryKey>intention.category</categoryKey>
    </intentionAction>

    <!-- Formatters -->
    <lang.braceMatcher language="GdScript" implementationClass="gdscript.formatter.GdBraceMatcher" />
    <lang.formatter language="GdScript" implementationClass="gdscript.formatter.GdFormattingModelBuilder" />
    <codeStyleSettingsProvider implementation="gdscript.formatter.GdCodeStyleSettingsProvider" />
    <langCodeStyleSettingsProvider implementation="gdscript.formatter.GdLanguageCodeStyleSettingsProvider" />

    <lang.foldingBuilder language="GdScript" implementationClass="gdscript.formatter.GdFoldingBuilder" />
    <lang.psiStructureViewFactory language="GdScript" implementationClass="gdscript.structureView.GdStructureViewFactory" />
    <lang.quoteHandler language="GdScript" implementationClass="gdscript.completion.GdQuoteHandler" />
  </extensions>

</idea-plugin>